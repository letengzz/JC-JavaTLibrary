# Java编译过程

**编写:**

​	我们将编写的Java代码保存在以"`.java`"结尾的源文件中

**编译:**

​	使用`javac.exe`命令编译我们的Java源文件。

**运行:**

​	使用`java.exe`命令解释运行我们的字节码文件。

![clipboard2](https://cdn.jsdelivr.net/gh/letengzz/Two-C@main/img/Java/202207281024849.png)

字节码文件是一种和任何具体机器环境及操作系统环境无关的中间代码。它是一种二进制文件，是 Java 源文件由 Java 编译器编译后生成的目标代码文件。编程人员和计算机都无法直接读懂字节码文件，它必须由专用的 Java 解释器来解释执行，因此 Java 是一种在编译基础上进行解释运行的语言。

Java 解释器负责将字节码文件翻译成具体硬件环境和操作系统平台下的机器代码，以便执行。因此 Java 程序不能直接运行在现有的操作系统平台上，它必须运行在被称为 Java 虚拟机的软件平台之上。

Java 虚拟机(`JVM`)是运行 Java 程序的软件环境，Java 解释器是 Java 虚拟机的一部分。在运行 Java 程序时，首先会启动 `JVM`，然后由它来负责解释执行 Java 的字节码程序，并且 Java 字节码程序只能运行于 `JVM` 之上。这样利用 `JVM` 就可以把 Java 字节码程序和具体的硬件平台以及操作系统环境分隔开来，只要在不同的计算机上安装了针对特定平台的 `JVM`，Java 程序就可以运行，而不用考虑当前具体的硬件平台及操作系统环境，也不用考虑字节码文件是在何种平台上生成的。

`JVM` 把这种不同软、硬件平台的具体差别隐藏起来，从而实现了真正的二进制代码级的跨平台移植。`JVM` 是 Java 平台架构的基础，Java 的跨平台特性正是通过在 `JVM`中运行 Java 程序实现的。

Java **运行机制**：

![JVM工作方式](https://cdn.jsdelivr.net/gh/letengzz/Two-C@main/img/Java/202208232051693.png)

Java 语言这种"**一次编写，到处运行**"的方式，有效地解决了目前大多数高级程序设计语言需要针对不同系统来编译产生不同机器代码的问题，即硬件环境和操作平台的异构问题，大大降低了程序开发、维护和管理的开销。

**提示**：Java 程序通过 `JVM` 可以实现跨平台特性，但 `JVM` 是不跨平台的。也就是说，不同操作系统之上的 `JVM` 是不同的，Windows 平台之上的 `JVM` 不能用在 Linux 平台，反之亦然。