# 常量`Constant`

常量是指在程序的整个运行过程中值保持不变的量。

**常量值**是常量的具体和直观的表现形式，**常量**是形式化的表现。通常在程序中既可以直接使用常量值，也可以使用常量。

## 常量值

常量值又称为字面常量，它是通过数据直接表示的，因此有很多种数据类型，像整型和字符串型等。

### 整型常量值

Java 的整型常量值主要有如下 3 种形式：

- **十进制数**形式：如 54、-67、0。
- **八进制数**形式：Java 中的八进制常数的表示以 `0` 开头，**例**： 0125 表示十进制数 85，-013 表示十进制数 -11。
- **十六进制数**形式：Java 中的十六进制常数的表示以 `0x` 或 `0X` 开头，**例**： `0x100` 表示十进制数 256，`-0x16` 表示十进制数 -22。


整型(`int`)常量默认在内存中占 32 位，是具有整数类型的值，当运算过程中所需值超过 32 位长度时，可以把它表示为长整型(`long`)数值。长整型类型则要在数字后面加 `L` 或 `l`， 如 `697L`，表示一个长整型数，它在内存中占 64 位。

### 实型常量值

Java 的实型常量值主要有如下两种形式。

- **十进制数**形式：由数字和小数点组成，且必须有小数点，如 12.34、-98.0。
- **科学记数法**形式：如 `1.75e5` 或 `32E3`，其中 `e` 或 `E` 之前必须有数字，且 `e` 或 `E` 之后的数字必须为整数。


Java 实型常量默认在内存中占 64 位，是具有双精度型(`double`)的值。如果考虑到需要节省运行时的系统资源，而运算时的数据值取值范围并不大且运算精度要求不太高的情况，可以把它表示为单精度型(`float`)的数值。

单精度型数值一般要在该常数后面加 `F` 或 `f`，如 `69.7f`，表示一个 `float` 型实数，它在内存中占 32 位（取决于系统的版本高低）。

### 布尔型常量值

Java 的布尔型常量只有两个值，即 `false`(假)和 `true`(真)。

### 字符型和字符串常量值

Java 的字符型常量值是用单引号引起来的一个字符，如 `'e'`、`'E'`。

除了以上所述形式的字符常量值之外，Java 还允许使用一种特殊形式的字符常量值来表示一些难以用一般字符表示的字符，这种特殊形式的字符是以开头的字符序列，称为[转义字符](../../../Appendix/ESC/README.md)。

**注意**：

- Java 字符串常量值中的单引号和双引号不可混用。双引号用来表示字符串，像 `"11"`、`"d"` 等都是表示单个字符的字符串。

- 这里表示字符和字符串的单引号和双引号都必须是英语输入环境下输入的符号。

## 定义常量

常量不同于常量值，它可以在程序中用符号来代替常量值使用，因此在使用前必须先定义。常量与变量类似也需要初始化，即在声明常量的同时要赋予一个初始值。常量一旦初始化就不可以被修改。

**声明格式**为：

```java
final type varName = value;              
```

- final 是定义常量的关键字
- type 指明常量的数据类型
- varName 是常量的名称
- value 是初始值

定义变量的时候，如果加上`final`修饰符，这个变量就变成了常量：

```java
final double PI = 3.14; // PI是一个常量
double r = 5.0;
double area = PI * r * r;
PI = 300; // compile error!
```

**常量在定义时进行初始化后就不可再次赋值，再次赋值会导致编译错误**。

![img](https://cdn.jsdelivr.net/gh/letengzz/Two-C@mian/img/Java/202211071642941.png)

常量的作用是用有意义的变量名来避免魔术数字(`Magic number`)

例如，不要在代码中到处写`3.14`，而是定义一个常量。如果将来需要提高计算精度，我们只需要在常量的定义处修改，例如，改成`3.1416`，而不必在所有地方替换`3.14`。

**注意**：

- **为了与变量区别，常量名通常全部大写**。

- 在定义常量时就需要对该常量进行初始化。

- 常量在初始化后不可重新赋值，使用常量便于理解程序意图。

- `final` 关键字不仅可以用来修饰基本数据类型的常量，还可以用来修饰对象的引用或者方法(详见[`final`关键字](../../Advanced/Object_Oriented/Keyword/final.md))。

使用 `final` 关键字声明常量：

```java
public class HelloWorld {    
    // 静态常量    
    public static final double PI = 3.14;    
    // 声明成员常量    
    final int y = 10;    
    public static void main(String[] args) {        
        // 声明局部常量        
        final double x = 3.3;    
    }
}
```

常量有三种类型：**静态常量**、**成员常量**和**局部常量**。

代码第 3 行的是声明静态常量，使用在 `final` 之前 `public static` 修饰。`public static` 修饰的常量作用域是全局的，不需要创建对象就可以访问它，在类外部访问形式为 `HelloWorld.PI`。这种常量在编程中使用很多。

代码第 5 行声明成员常量，作用域类似于[成员变量](../Variables/member_variable.md)，但不能修改。

代码第 9 行声明局部常量，作用域类似于[局部变量](../Variables/local_variable.md)，但不能修改。

