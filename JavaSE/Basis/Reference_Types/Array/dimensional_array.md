# 一维数组

当数组中每个元素都只带有一个下标时，这种数组就是"一维数组"。一维数组(`one-dimensional array`)实质上是一组相同类型数据的线性集合，是数组中最简单的一种数组。

数组是引用数据类型，引用数据类型在使用之前一定要做两件事情：**声明和初始化**。

## 一维数组声明

为了在程序中使用一个数组，必须声明一个引用该数组的变量，并指明整个变量可以引用的数组类型。

**语法格式**：

- 方式一：

  ```java
  type[] arrayName;    // 数据类型[] 数组名;
  ```

- 方式二：

  ```java
  type arrayName[];    // 数据类型 数组名[];
  ```

**注意**：

- 数组的声明方式有两种形式：一种方式是中括号在元素数据类型之后，另一种是中括号在变量名之后。推荐使用第一种方式，因为方式一更能体现定义了一个某类型的数组(`type[]`)，而方式二会混淆，可读性较差。以上两种格式都可以声明一个数组，其中的数据类型既可以是基本数据类型，也可以是引用数据类型。数组名可以是任意合法的变量名。

- 在声明数组时不需要规定数组的长度：

  ```java
  int score[10];    // 这是错误的
  ```


- 在声明数组变量时千万不要漏写`[]`。

**例**：

```java
int[] score;    // 存储学生的成绩，类型为整型
double[] price;    // 存储商品的价格，类型为浮点型
String[] name;    // 存储商品名称，类型为字符串型
```

## 分配空间

声明了数组，只是得到了一个存放数组的变量，并没有为数组元素分配内存空间，不能使用。因此要为数组分配内存空间，这样数组的每一个元素才有一个空间进行存储。

简单地说，分配空间就是要告诉计算机在内存中为它分配几个连续的位置来存储数据。在 Java 中可以使用 new 关键字来给数组分配空间。

分配空间的**语法格式**：

```java
arrayName = new type[size];    // 数组名 = new 数据类型[数组长度];
```

其中，数组长度就是数组中能存放的元素个数，显然应该为大于 0 的整数：

```java
score = new int[10];
price = new double[30];
name = new String[20];
```

这里的 score 是已经声明过的 int[] 类型的变量，当然也可以在声明数组时就给它分配空间

**语法格式**：

```java
type[] arrayName = new type[size];    // 数据类型[] 数组名 = new 数据类型[数组长度];
```

**例**：声明并分配一个长度为 5 的 int 类型数组 arr，代码如下：

```java
int[] arr = new int[5];
```

执行后 arr 数组**在内存中的格式**：

![img](https://cdn.jsdelivr.net/gh/letengzz/Two-C@main/img/Java/202209182033781.jpeg)

arr 为数组名称，方括号"`[]`"中的值为数组的下标。数组通过下标来区分数组中不同的元素，并且下标是从 0 开始的。因此这里包含 5 个元素的 arr 数组最大下标为 4。

**注意**：一旦声明了数组的大小，就不能再修改。这里的数组长度也是必需的，不能少。

尽管数组可以存储一组基本数据类型的元素，但是数组整体属于引用数据类型。当声明一个数组变量时，其实是创建了一个类型为"数据类型[]"(如 `int[]`、`double[]`、`String[]`)的数组对象

**数组的方法和属性**：

<img src="https://cdn.jsdelivr.net/gh/letengzz/Two-C@main/img/Java/202209182033039.png" style="zoom: 25%;" />

## 一维数组初始化

Java 语言中**数组必须先初始化，然后才可以使用**。所谓初始化，就是为数组的数组元素分配内存空间，并为每个数组元素赋初始值。

一旦为数组的每个数组元素分配了内存空间，每个内存空间里存储的内容就是该数组元素的值，即使这个内存空间存储的内容为空，这个空也是一个值(`null`)。不管以哪种方式来初始化数组，只要为数组元素分配了内存空间，数组元素就具有了初始值。

初始值的获得有两种形式，一种由**系统自动分配**，另一种**由程序员指定**。

数组在初始化数组的同时，可以指定数组的大小，也可以分别初始化数组中的每一个元素。在 Java 语言中，初始化数组有以下 3 种方式。

###  指定数组大小后进行初始化

使用 new 关键字创建数组，在创建时指定数组的大小。

**语法格式**：

```java
type[] arrayName = new int[size];
```

创建数组之后，元素的值并不确定，需要为每一个数组的元素进行赋值，其下标从 0 开始。

**例**：

创建包含 5 个元素的 int 类型的数组，然后分别将元素的值设置为 1、2、3、5 和 8：

```java
int[] number = new int[5];
number[0] = 1;
number[1] = 2;
number[2] = 3;
number[3] = 5;
number[4] = 8;
```


如果程序员只指定了数组的长度，那么系统将负责为这些数组元素分配初始值。指定初始值时，系统按如下规则分配初始值。

- 数组元素的类型是基本类型中的整数类型(`byte`、`short`、`int` 和 `long`)，则数组元素的值是 `0`。
- 数组元素的类型是基本类型中的浮点类型(`float`、`double`)，则数组元素的值是 `0.0`。
- 数组元素的类型是基本类型中的字符类型(`char`)，则数组元素的值是'`\u0000`'。
- 数组元素的类型是基本类型中的布尔类型(`boolean`)，则数组元素的值是 `false`。
- 数组元素的类型是引用类型(类、接口和数组)，则数组元素的值是 `null`。

### 指定数组元素的值

在初始化时就已经确定值。

**语法格式**：

```java
type[] arrayName = new type[]{值 1,值 2,值 3,值 4,• • •,值 n};
```

**例**：

使用 new 直接指定数组元素的值：

```java
int[] number = new int[]{1, 2, 3, 5, 8};
```

**说明**：上述代码的效果等价于例 2 的效果。

**注意**：不要在进行数组初始化时，既指定数组的长度，也为每个数组元素分配初始值，这样会造成代码错误。

**例**：

```java
int[] number = new int [5] {1,2,3,4,5};
```

### 直接指定数组元素的值

type 可以省略，如果已经声明数组变量，那么直接使用这两种方式进行初始化。

**语法格式**：

```java
type[] arrayName = {值 1,值 2,值 3,...,值 n};
```

**例**：

使用上述语法实现 number 数组的初始化：

```java 
int[] number = {1,2,3,5,8};
```

**使用这种方式时，数组的声明和初始化操作要同步，即不能省略数组变量的类型**：

```java
int[] number;number = {1,2,3,5,8};	//用法错误
```

## 获取单个元素

获取单个元素是指获取数组中的一个元素，如第一个元素或最后一个元素。获取单个元素的方法非常简单，指定元素所在数组的下标即可。

**语法格式**：

```java
arrayName[index];
```

- arrayName 表示数组变量

- index 表示下标

**注意**：下标为 0 表示获取第一个元素，下标为 array.length-1 表示获取最后一个元素。当指定的下标值超出数组的总长度时，会拋出 `ArraylndexOutOfBoundsException` 异常。

**例**：

1. 获取 number 数组中的第一个元素、最后一个元素和第六个元素，并将元素的值输出：

  ```java
  int[] number = {1,2,3,5,8};
  System.out.println("获取第一个元素："+number[0]);
  System.out.println("获取最后一个元素："+number[number.length-1]);
  System.out.println("获取第6个元素："+number[5]);
  ```

  执行上述代码，输出结果：

  > 获取第一个元素：1
  > 获取最后一个元素：8
  > java.lang.ArrayIndexOutOfBoundsException: 5

  一共存入了 5 个值，所以下标的取值为 0~4。因为 `number[5]` 取出的内容超过了这个下标，所以输出结果会提示数组索引超出绑定异常(`ArrayIndexOutOfBoundsException`)。这一点是在使用数组中是经常出现的问题，大家在编写程序时应该引起注意。

------

2. 编写一个 Java 程序，使用数组存放录入的 5 件商品价格，然后使用下标访问第 3 个元素的值：

	```java 
	import java.util.Scanner;
	public class Test06 {    
	    public static void 	main(String[] args) {        
	        int[] prices = new int[5]; // 声明数组并分配空间        
	        Scanner input = new Scanner(System.in); // 接收用户从控制台	输入的数据        
	        for (int i = 0; i < prices.length; i++) {            	
	            System.out.println("请输入第" + (i + 1) + "件商品的价格：");            	
	            prices[i] = input.nextInt(); // 接收用户从控制台输入的数据        
	        }        	
	        System.out.println("第 3 件商品的价格为：" + prices[2]);    
	    }
	}
	```
	
	上述代码的"`int[] prices = new int[5]`"语句创建了需要 5 个元素空间的 prices 数组，然后结合 for 循环向数组中的每个元素赋值。
	
	**注意**：在 Java 中取得数组的长度(也就是数组元素的长度)可以利用"数组名称.length"，返回一个 int 型数据。
	
	数组的索引从 0 开始，而 for 循环中的变量 i 也从 0 开始，因此 score 数组中的元素可以使用 scored 来表示，大大简化了代码。最后使用 prices[2] 获取 prices 数组的第 3 个元素。
	
	运行结果：
	
	> 请输入第1件商品的价格：
	> 5
	> 请输入第2件商品的价格：
	> 4
	> 请输入第3件商品的价格：
	> 6
	> 请输入第4件商品的价格：
	> 4
	> 请输入第5件商品的价格：
	> 8
	> 第 3 件商品的价格为：6

## 遍历数组

当数组中的元素数量不多时，要获取数组中的全部元素，可以使用下标逐个获取元素。但是，如果数组中的元素过多，再使用单个下标则显得烦琐，此时使用一种简单的方法可以获取全部元素——使用循环语句。

- 利用 [for 循环](../../Process_Control/Loop_Structure/for.md)语句遍历 number 数组中的全部元素，并将元素的值输出：

  ```java
  int[] number = {1,2,3,5,8};
  for (int i=0;i<number.length;i++) {    		
      System.out.println("第"+(i+1)+"个元素的值是："+number[i]);
  }
  ```

- 使用 [foreach](../../Process_Control/Loop_Structure/foreach.md) 遍历数组中的元素，并将元素的值输出：

  ```java
  for(int val:number) {    
      System.out.print("元素的值依次是："+val+"\t");
  }
  ```

  
