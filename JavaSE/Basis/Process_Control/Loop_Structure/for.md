# for循环

for 语句是一种在程序执行前就要先判断条件表达式是否为真的循环语句。假如条件表达式的结果为假，那么它的循环语句根本不会执行。for 语句通常使用在知道循环次数的循环中。

**基本结构**：

```java
for(①;②;④){
    ③
}
```

**for循环四要素**：

​	①初始化条件：循环结构的初始部分，为循环变量赋初值。

​	②循环条件(`boolean`类型)：循环结构的循环条件。

​	③循环体

​	④迭代条件(通常用++或--)：循环结构的迭代部分，通常用来修改循环。

**执行过程**：① - ② - ③ - ④ - ② - ③ -。。-②

![clipboard6](https://cdn.jsdelivr.net/gh/letengzz/Two-C@main/img/Java/202207281450992.png)

**执行过程**：首先执行初始化条件，然后判断循环条件是否为 true，如果为 true，则执行循环体语句块；否则直接退出循环。最后迭代条件，改变循环变量的值，至此完成一次循环。接下来进行下一次循环，直到循环条件的值为 false，才结束循环。

**说明**：在执行循环体时遇到 continue 语句结束本次循环，循环迭代语句也一样会得到执行。

**注意**：

- 循环条件部分为boolean类型表达式，当值为false时，退出循环。
- 初始化部分可以声明多个变量，但必须是同一个类型，用逗号分隔。
- 千万小心丢了迭代条件，一旦丢了 可能导致死循环。
- for 语句中初始化、循环条件以及迭代部分都可以为空语句(但分号不能省略)，三者均为空的时候，相当于一个无限循环(要避免无限循环)。
- for循环和while可以相互转换。
- 迭代条件可以有多个变量更新，用逗号分隔。
- 如果循环体只有一行语句，那么循环体的大括号可以省略。

**区别**：for 和while初始化条件的作用范围不同。

**算法**：有限性。 

```java
public class ForLoop { 
    public static void main(String args[]) { 
        int result = 0; 
        for (int i = 1; i <= 100; i++) { 
            result += i; 
        } 
    System.out.println("result=" + result); 
    } 
}
```

**当初始化条件为空时**：

for 语句中条件表达式 1 的作用可以在程序的其他位置给出，所以当条件表达式 1 为空时，for 语句后面括号内其他条件表达式执行的顺序不变。

**例**：

使用 for 语句的这种形式计算 1~100 所有奇数的和：

```java
public static void main(String[] args) {    
    int result = 0;    
    int number = 1; // 相当于for语句的第1个表达式    
    for (; number < 101; number++) {        
        if (number % 2 != 0) // 如果不能整除2，说明是奇数，则进行累加            
            result += number;    
    }    
    System.out.print("100 以内所有奇数和为：" + result);
}
```

执行后的输出结果：

> 100 以内所有奇数和为：2500

**当循环条件为空时**：

当 for 语句中条件表达式 2 为空时，将没有循环的终止条件。此时 for 语句会认为条件表达式 2 的值总是为真，循环无限制执行下去。因此，为了使循环达到某种条件时退出，需要在语句块中进行逻辑判断，并使用 break 语句来跳出循环，否则将产生死循环。

**例**：

计算 1~100 所有奇数的和：

```java
public static void main(String[] args) {    
    int result = 0;    
    for (int number = 1;; number++) {        
        if (number > 100)            
            break; // 相当于for语句的表达式2，满足时就退出for循环        
        if (number % 2 != 0) // 如果不能整除2，说明是奇数，则进行累加            
            result += number;    
    }    
    System.out.print("100 以内所有奇数和为：" + result);
}
```

**当迭代条件为空时**：

当 for 语言中条件表达式 3 为空时，也就没有设置控制变量的表达式，即每次循环之后无法改变变量的值，此时也无法保证循环正常结束。

**例**：

同样是计算1~100 所有奇数的和：

```java
public static void main(String[] args) {    
    int result = 0;    
    for (int number = 1; number < 101;) {        
        if (number % 2 != 0) // 如果不能整除2，说明是奇数，则进行累加            
        result += number;        
        number++; // 相当于for语句的条件表达式3，每次递增1    
    }    
    System.out.print("100 以内所有奇数和为：" + result);
}
```

如果没有循环体语句，number 变量的值为 1，永远小于 101，因此将无法结束循环，形成无限循环。在上面代码中将 number 的递增语句放在 for 循环体内，效果与完整 for 语句功能相同。

**当三个条件表达式都为空时**：

在 for 循环语句中，无论缺少哪部分条件表达式，都可以在程序的其他位置补充，从而保持 for 循环语句的完整性，使循环正常进行。

当 for 语句中循环体全为空时，即没有循环初值，不判断循环条件，循环变量不增值，此时无条件执行循环体，形成无限循环或者死循环。对于这种情况，在使用时应该尽量避免。

**例**：

计算 1~100 所有奇数的和，使用这种方式的代码如下： 

```java
public static void main(String[] args) {    
    int result = 0;    
    int number = 1; // 相当于for语句的条件表达式1    
    for (;;) {        
        if (number > 100)            
            break; // 相当于for语句的条件表达式2        
        if (number % 2 != 0) // 如果不能整除2，说明是奇数，则进行累加            
            result += number;        
        number++; // 相当于for语句的条件表达式3    
    }    
    System.out.print("100 以内所有奇数和为： " + result);
}
```

# for循环嵌套

如果把一个循环放在另一个循环体内，那么就可以形成**嵌套循环**。

**嵌套循环既可以是 for循环嵌套 while 循环，也可以是 while 循环嵌套 do-while 循环 …… 即各种类型的循环都可以作为外层循环，也可以作为内层循环**。

当程序遇到嵌套循环时，如果外层循环的循环条件允许，则开始执行外层循环的循环体，而内层循环将被外层循环的循环体来执行(只是内层循环需要反复执行自己的循环体而已)。

当内层循环执行结束，且外层循环的循环体执行结束时，则再次计算外层循环的循环条件，决定是否再次开始执行外层循环的循环体。

假设外层循环的循环次数为 n 次，内层循环的循环次数为 m 次，那么内层循环的循环体实际上需要执行 n×m 次。

**嵌套循环的执行流程**：

![嵌套循环的执行流程](https://cdn.jsdelivr.net/gh/letengzz/Two-C@main/img/Java/202209161603004.jpeg)

嵌套循环就是把内层循环当成外层循环的循环体。当只有内层循环的循环条件为 false 时，才会完全跳出内层循环，才可以结束外层循环的当次循环，开始下一次循环。

**例**：使用嵌套循环输出九九乘法表：

```java
public static void main(String[] args) {    
    System.out.println("乘法口诀表：");    
    // 外层循环    
    for (int i = 1; i <= 9; i++) {        
        // 内层循环        
        for (int j = 1; j <= i; j++) {            
            System.out.print(j + "*" + i + "=" + j * i + "\t");        
        }        
        System.out.println();    
    }
}
```

从上面运行结果可以看出，进入嵌套循环时，循环变量 i 开始为 1，这时即进入了外层循环。进入外层循环后，内层循环把 i 当成一个普通变量，其值为 0。在外层循环的当次循环里，内层循环就是一 个普通循环。

实际上，嵌套循环不仅可以是两层嵌套，而且可以是三层嵌套、四层嵌套 …… 不论循环如何嵌套, 总可以把内层循环当成外层循环的循环体来对待，区别只是这个循环体里包含了需要反复执行的代码。
